{"code":"(this.webpackJsonpxwords=this.webpackJsonpxwords||[]).push([[0],{12:function(e){e.exports=JSON.parse('{\"name\":\"xwords\",\"version\":\"0.1.0\",\"private\":true,\"dependencies\":{\"@testing-library/jest-dom\":\"^5.11.4\",\"@testing-library/react\":\"^11.1.0\",\"@testing-library/user-event\":\"^12.1.10\",\"react\":\"^17.0.2\",\"react-dom\":\"^17.0.2\",\"react-helmet\":\"^6.1.0\",\"react-router-dom\":\"^6.0.1\",\"react-scripts\":\"4.0.3\",\"react-to-print\":\"^2.14.0\",\"web-vitals\":\"^1.0.1\"},\"scripts\":{\"start\":\"react-scripts start\",\"build\":\"react-scripts build\",\"test\":\"react-scripts test\",\"eject\":\"react-scripts eject\"},\"eslintConfig\":{\"extends\":[\"react-app\",\"react-app/jest\"]},\"browserslist\":{\"production\":[\">0.2%\",\"not dead\",\"not op_mini all\"],\"development\":[\"last 1 chrome version\",\"last 1 firefox version\",\"last 1 safari version\"]}}')},22:function(e,t,n){},23:function(e,t,n){},29:function(e,t,n){\"use strict\";n.r(t);var r=n(1),s=n.n(r),a=n(13),c=n.n(a),i=(n(22),n(23),n(8)),o=n(2),l=n(3),u=n(9),j=n(0),d=\"SET_USER\",b=Object(r.createContext)(),p={user:JSON.parse(window.localStorage.getItem(\"drawmyroute_user\"))},h=function(e,t){switch(t.type){case d:return window.localStorage.setItem(\"drawmyroute_user\",JSON.stringify(Object(u.a)({},t.payload))),Object(u.a)(Object(u.a)({},e),{},{user:Object(u.a)({},t.payload)});default:return e}},x=function(e){var t=e.children,n=Object(r.useReducer)(h,p),s=Object(l.a)(n,2),a=s[0],c=s[1];return Object(j.jsx)(b.Provider,{value:[a,c],children:t})},O=function(){var e=Object(r.useContext)(b),t=Object(l.a)(e,2),n=t[0],s=t[1];return{setUser:function(e){var t=e.username,n=e.api_token;s({type:d,payload:{username:t,api_token:n}})},user:Object(u.a)({},n.user)}},f=n(4),m=n.n(f),g=n(6),v=function(){var e=O(),t=e.user,n=t.username,a=t.api_token,c=Object(r.useState)(!1),o=Object(l.a)(c,2),u=o[0],d=o[1],b=Object(r.useState)(!1),p=Object(l.a)(b,2),h=p[0],x=p[1],f=Object(r.useState)(!1),v=Object(l.a)(f,2),y=v[0],w=v[1],C=s.a.useState({}),k=Object(l.a)(C,2),N=k[0],S=k[1];s.a.useEffect((function(){Object(g.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=12;break}return t.prev=1,t.next=4,fetch(\"http://localhost:8000/api/auth/user/\",{method:\"GET\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Token \"+a}});case 4:if(200===t.sent.status){t.next=7;break}throw new Error(\"not logged in\");case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e.setUser({});case 12:case\"end\":return t.stop()}}),t,null,[[1,9]])})))()}),[e,a,n]),s.a.useEffect((function(){u||S({})}),[u]);var I=function(){var t=Object(g.a)(m.a.mark((function t(n){var r,s,a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,fetch(\"http://localhost:8000/api/auth/login\",{method:\"POST\",credentials:\"omit\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({username:h,password:y})});case 3:if(400!==(r=t.sent).status){t.next=11;break}return t.next=7,r.json();case 7:s=t.sent,S(s),t.next=16;break;case 11:return d(!1),t.next=14,r.json();case 14:a=t.sent,e.setUser({username:a.username,api_token:a.token});case 16:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),T=function(){var t=Object(g.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setUser({}),window.location=\"/\";case 2:case\"end\":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(j.jsxs)(\"div\",{style:{marginBottom:\"40px\",position:\"relative\",zIndex:2e3},children:[n&&Object(j.jsxs)(\"div\",{style:{textAlign:\"right\"},children:[Object(j.jsx)(i.b,{to:\"/\",children:Object(j.jsx)(\"button\",{class:\"btn btn-secondary btn-sm\",children:\"Index\"})}),\" \",Object(j.jsxs)(\"button\",{onClick:T,className:\"btn btn-danger btn-sm\",children:[Object(j.jsx)(\"i\",{className:\"fas fa-power-off\"}),\" Quitter\"]}),\"\\xa0\"]}),!n&&Object(j.jsxs)(\"div\",{style:{textAlign:\"right\"},children:[Object(j.jsx)(i.b,{to:\"/\",children:Object(j.jsx)(\"button\",{class:\"btn btn-secondary btn-sm\",children:\"Index\"})}),\" \",Object(j.jsxs)(\"button\",{\"data-testid\":\"loginBtn\",onClick:function(){return d(!0)},className:\"btn btn-primary btn-sm\",children:[Object(j.jsx)(\"i\",{className:\"fas fa-sign-in-alt\"}),\" Enregistrement\"]}),\"\\xa0\"]}),!n&&u&&Object(j.jsx)(\"div\",{children:Object(j.jsx)(\"div\",{className:\"modal\",role:\"dialog\",style:{display:\"block\"},children:Object(j.jsx)(\"div\",{className:\"modal-dialog\",children:Object(j.jsxs)(\"div\",{className:\"modal-content\",children:[Object(j.jsx)(\"div\",{className:\"modal-header\",style:{padding:\"35px 50px\"},children:Object(j.jsxs)(\"h4\",{children:[Object(j.jsx)(\"i\",{className:\"fas fa-sign-in-alt\"}),\"  Enregistrement\"]})}),Object(j.jsxs)(\"div\",{className:\"modal-body\",style:{padding:\"40px 50px\"},children:[N.non_field_errors&&N.non_field_errors.map((function(e){return Object(j.jsx)(\"div\",{className:\"alert alert-danger\",role:\"alert\",dangerouslySetInnerHTML:{__html:e}})})),Object(j.jsxs)(\"form\",{onSubmit:I,children:[Object(j.jsxs)(\"div\",{className:\"form-group\",children:[Object(j.jsxs)(\"label\",{htmlFor:\"username\",children:[Object(j.jsx)(\"i\",{className:\"fas fa-user\"}),\" Nom d'utilisateur\"]}),Object(j.jsx)(\"input\",{onChange:function(e){x(e.target.value)},type:\"text\",className:\"form-control\",id:\"username\",name:\"username\",placeholder:\"Nom d'utilisateur\"})]}),Object(j.jsxs)(\"div\",{className:\"form-group\",children:[Object(j.jsxs)(\"label\",{htmlFor:\"password\",children:[Object(j.jsx)(\"i\",{className:\"fas fa-key\"}),\" Mot de passe\"]}),Object(j.jsx)(\"input\",{onChange:function(e){w(e.target.value)},type:\"password\",className:\"form-control\",id:\"password\",name:\"password\",placeholder:\"Mot de passe\"})]}),Object(j.jsxs)(\"button\",{\"data-testid\":\"submitLoginBtn\",type:\"submit\",className:\"btn btn-primary btn-block\",children:[Object(j.jsx)(\"i\",{className:\"fas fa-sign-in-alt\"}),\"  Entrer\"]})]})]}),Object(j.jsx)(\"div\",{className:\"modal-footer\",style:{display:\"block\",justifyContent:\"initial\"},children:Object(j.jsxs)(\"button\",{type:\"submit\",className:\"btn btn-danger btn-default pull-left\",\"data-dismiss\":\"modal\",onClick:function(){return d(!1)},children:[Object(j.jsx)(\"i\",{className:\"fas fa-times\"}),\" Retour\"]})})]})})})})]})},y=n(14),w=function(){var e=O().user.username;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(y.a,{children:Object(j.jsx)(\"title\",{children:\"Mots crois\\xe9s\"})}),Object(j.jsx)(\"div\",{className:\"container main-container\",children:Object(j.jsxs)(\"div\",{style:{textAlign:\"center\"},children:[e&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(\"hr\",{}),Object(j.jsx)(i.b,{to:\"/nouvelle-grille\",children:Object(j.jsxs)(\"button\",{className:\"btn btn-primary\",children:[Object(j.jsx)(\"i\",{className:\"fas fa-plus\"}),\" Creer une nouvelle grille\"]})}),Object(j.jsx)(j.Fragment,{children:\" \"}),Object(j.jsx)(i.b,{to:\"/mes-grilles/\",children:Object(j.jsxs)(\"button\",{className:\"btn btn-primary\",children:[Object(j.jsx)(\"i\",{className:\"fas fa-link\"}),\" Vos grilles\"]})})]}),!e&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(\"hr\",{}),Object(j.jsx)(\"span\",{children:\"Enregistrez vous pour cr\\xe9er de nouvelles grilles ou voir vos grilles sauvegard\\xe9es sur le site.\"})]}),Object(j.jsx)(\"hr\",{})]})})]})};n(12);var C=function(e){var t=O(),n=Object(r.useState)([10,10]),s=Object(l.a)(n,2),a=s[0],c=s[1],i=Object(r.useState)(!1),u=Object(l.a)(i,2),d=u[0],b=u[1],p=Object(r.useState)([]),h=Object(l.a)(p,2),x=h[0],f=h[1],v=Object(r.useState)(null),y=Object(l.a)(v,2),w=y[0],C=y[1],k=Object(r.useState)(\"\"),N=Object(l.a)(k,2),S=N[0],I=N[1],T=Object(r.useState)(!1),X=Object(l.a)(T,2),_=X[0],E=X[1],D=Object(r.useState)([[],[]]),L=Object(l.a)(D,2),V=L[0],A=L[1],F=t.user,z=(F.username,F.api_token),M=Object(o.g)().uid,U=function(){var e=Object(g.a)(m.a.mark((function e(t){var n,r,s,a,i,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(\"http://localhost:8000/api/grid/\"+t,{method:\"GET\",credentials:\"omit\",headers:{Authorization:\"Token \"+z,\"Content-Type\":\"application/json\"}});case 3:return n=e.sent,e.next=6,n.json();case 6:for(r=e.sent,c([r.width,r.height]),I(r.title),s=[],a=0;a<r.height;a++)for(s.push([]),i=0;i<r.width;i++)o=r.solution[a*r.width+i],s[a].push(\"_\"===o?\"\":o.toUpperCase());f(s),A(r.definitions),E(r.published),b(!0),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),window.location=\"/\";case 20:case\"end\":return e.stop()}}),e,null,[[0,17]])})));return function(t){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){M&&Object(g.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U(M);case 2:return e.abrupt(\"return\",e.sent);case 3:case\"end\":return e.stop()}}),e)})))()}),[M]);var R=function(e,t){C([e,t])},J=function(e){if(isNaN(e))return NaN;for(var t=String(+e).split(\"\"),n=[\"\",\"C\",\"CC\",\"CCC\",\"CD\",\"D\",\"DC\",\"DCC\",\"DCCC\",\"CM\",\"\",\"X\",\"XX\",\"XXX\",\"XL\",\"L\",\"LX\",\"LXX\",\"LXXX\",\"XC\",\"\",\"I\",\"II\",\"III\",\"IV\",\"V\",\"VI\",\"VII\",\"VIII\",\"IX\"],r=\"\",s=3;s--;)r=(n[+t.pop()+10*s]||\"\")+r;return Array(+t.join(\"\")+1).join(\"M\")+r},P=function(){var e=Object(g.a)(m.a.mark((function e(){var t,n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=\"http://localhost:8000/api/grid/\"+(M||\"new\"),e.next=4,fetch(t,{method:M?\"PUT\":\"POST\",credentials:\"omit\",headers:{Authorization:\"Token \"+z,\"Content-Type\":\"application/json\"},body:JSON.stringify({width:a[0],height:a[1],title:\"\"!==S?S:\"Grille sans titre\",solution:x.map((function(e){return e.map((function(e){return\"\"===e?\"_\":\" \"===e?\"#\":e.toLowerCase()})).join(\"\")})).join(\"\"),definitions:V,published:!!_&&!x.map((function(e){return e.map((function(e){return\"\"===e?\"_\":\" \"===e?\"#\":e.toLowerCase()})).join(\"\")})).join(\"\").includes(\"_\")})});case 4:if(200!==(n=e.sent).status&&201!==n.status){e.next=12;break}return e.next=8,n.json();case 8:r=e.sent,window.location=\"/grille/\".concat(r.id,\"/modifier\"),e.next=13;break;case 12:throw new Error(\"not ok status\");case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),alert(\"Une erreur est survenue...\");case 18:case\"end\":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(g.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(\"http://localhost:8000/api/grid/\"+M,{method:\"PUT\",credentials:\"omit\",headers:{Authorization:\"Token \"+z,\"Content-Type\":\"application/json\"},body:JSON.stringify({width:a[0],height:a[1],title:\"\"!==S?S:\"Grille sans titre\",solution:x.map((function(e){return e.map((function(e){return\" \"===e?\"#\":e.toLowerCase()})).join(\"\")})).join(\"\"),definitions:V,published:!0})});case 2:window.location=\"/grille/\"+M;case 3:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(g.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(\"http://localhost:8000/api/grid/\"+M,{method:\"DELETE\",credentials:\"omit\",headers:{Authorization:\"Token \"+z,\"Content-Type\":\"application/json\"}});case 2:window.location=\"/\";case 3:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)(\"div\",{className:\"container main-container\",children:[Object(j.jsxs)(\"h1\",{children:[M?\"Editeur de grille\":\"Nouvelle grille\",\" \"]}),!d&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(\"h3\",{children:\"Dimensions\"}),Object(j.jsx)(\"label\",{for:\"width\",children:\"Largeur\"}),Object(j.jsx)(\"input\",{name:\"width\",type:\"number\",min:\"1\",onChange:function(e){c([e.target.value,a[1]])},defaultValue:a[0]}),Object(j.jsx)(\"label\",{for:\"height\",children:\"Hauteur\"}),Object(j.jsx)(\"input\",{name:\"height\",type:\"number\",min:\"1\",onChange:function(e){c([a[0],e.target.value])},defaultValue:a[1]}),Object(j.jsx)(\"button\",{class:\"btn btn-primary\",onClick:function(){b(!0);for(var e=[],t=[[],[]],n=0;n<a[1];n++){e.push([]),t[0].push(\"\");for(var r=0;r<a[0];r++)e[n].push(\"\")}for(var s=0;s<a[0];s++)t[1].push(\"\");f(e),A(t)},children:\"Continuer\"})]}),d&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(\"label\",{children:\"Titre: \"}),Object(j.jsx)(\"input\",{type:\"text\",onChange:function(e){return I(e.target.Value)},placeholder:\"Titre de la grille\",defaultValue:S}),\" \",_&&Object(j.jsx)(\"span\",{class:\"badge bg-danger\",children:\"publi\\xe9\"}),Object(j.jsxs)(\"table\",{children:[Object(j.jsxs)(\"tr\",{children:[Object(j.jsx)(\"td\",{children:\" \"}),x[0].map((function(e,t){return Object(j.jsxs)(\"td\",{style:{textAlign:\"center\"},children:[J(t+1),\".\"]})}))]}),x.map((function(e,t){return Object(j.jsxs)(\"tr\",{children:[Object(j.jsxs)(\"td\",{children:[t+1,\".\"]}),e.map((function(e,n){return Object(j.jsx)(\"td\",{style:{width:\"2em\",height:\"2em\",border:\"1px solid #000\"},children:Object(j.jsx)(\"input\",{type:\"text\",onFocus:function(){return R(t,n)},onBlur:function(){return R(null)},style:{outline:\"none\",textAlign:\"center\",border:\"0\",caretColor:\"transparent\",width:\"2em\",backgroundColor:w&&w[0]===t&&w[1]===n?\"red\":\" \"===e?\"black\":\"white\"},onKeyDown:function(e){return function(e,t,n){n.preventDefault();var r=n.key.toLowerCase();if(1===r.length&&/[a-z -]/.test(r)){var s=x;s[e][t]=r.toUpperCase(),f(s),C(null),document.activeElement.blur()}if(\"backspace\"===r){var a=x;a[e][t]=\"\",f(a),C(null),document.activeElement.blur()}}(t,n,e)},readOnly:!0,value:x[t][n]?e:\"\"})})}))]})}))]}),Object(j.jsx)(\"p\",{children:\"Cliquer sur une case et taper la lettre d\\xe9sir\\xe9, Espace pour noircire la case, Retour arri\\xe8re pour re-initialiser la case.\"}),Object(j.jsx)(\"div\",{style:{marginTop:\"15px\"},children:Object(j.jsx)(\"button\",{class:\"btn btn-primary save-btn\",onClick:P,children:\"Sauvegarder\"})}),Object(j.jsx)(\"h3\",{children:\"D\\xe9finitions\"}),Object(j.jsx)(\"h4\",{children:\"Horizontalement\"}),Object(j.jsx)(\"div\",{children:x.map((function(e,t){return Object(j.jsxs)(\"div\",{style:{margin:\"5px\"},children:[Object(j.jsxs)(\"span\",{style:{width:\"3em\",display:\"inline-block\"},children:[t+1,\". \"]}),Object(j.jsx)(\"input\",{style:{width:\"500px\"},type:\"text\",onChange:function(e){return function(e,t){var n=V;n[0][e]=t,A(n)}(t,e.target.value)},defaultValue:V[0][t]})]})}))}),Object(j.jsx)(\"h4\",{children:\"Verticalement\"}),Object(j.jsx)(\"div\",{children:x[0].map((function(e,t){return Object(j.jsxs)(\"div\",{style:{margin:\"5px\"},children:[Object(j.jsxs)(\"span\",{style:{width:\"3em\",display:\"inline-block\"},children:[J(t+1),\". \"]}),Object(j.jsx)(\"input\",{style:{width:\"500px\"},type:\"text\",onChange:function(e){return function(e,t){var n=V;n[1][e]=t,A(n)}(t,e.target.value)},defaultValue:V[1][t]})]})}))}),Object(j.jsx)(\"div\",{style:{marginTop:\"15px\"},children:Object(j.jsx)(\"button\",{class:\"btn btn-primary save-btn\",onClick:P,children:\"Sauvegarder\"})}),Object(j.jsx)(\"div\",{style:{marginTop:\"15px\"},children:Object(j.jsx)(\"button\",{class:\"btn btn-danger\",onClick:G,children:\"Supprimer\"})}),x.map((function(e){return e.map((function(e){return e})).join(\"\")})).join(\"\").length===a[0]*a[1]&&M&&Object(j.jsx)(\"div\",{style:{marginTop:\"15px\"},children:Object(j.jsx)(\"button\",{class:\"btn btn-success\",onClick:B,children:\"Publier\"})})]})]})},k=n(17);n(12);var N=function(){var e=O(),t=Object(r.useState)([]),n=Object(l.a)(t,2),a=n[0],c=n[1],i=Object(r.useState)(\"\"),u=Object(l.a)(i,2),d=u[0],b=u[1],p=Object(r.useState)([[],[]]),h=Object(l.a)(p,2),x=h[0],f=h[1],v=e.user,y=(v.username,v.api_token,Object(o.g)().uid),w=s.a.useRef(),C=Object(k.useReactToPrint)({content:function(){return w.current}}),N=function(){var e=Object(g.a)(m.a.mark((function e(t){var n,r,s,a,i,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(\"http://localhost:8000/api/grid/\"+t);case 3:return n=e.sent,e.next=6,n.json();case 6:for(r=e.sent,b(r.title),s=[],a=0;a<r.height;a++)for(s.push([]),i=0;i<r.width;i++)o=r.grid[a*r.width+i],s[a].push(\"_\"===o?\"\":o.toUpperCase());c(s),f(r.definitions),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),window.location=\"/\";case 17:case\"end\":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){y&&Object(g.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(y);case 2:return e.abrupt(\"return\",e.sent);case 3:case\"end\":return e.stop()}}),e)})))()}),[y]);var S=function(e){if(isNaN(e))return NaN;for(var t=String(+e).split(\"\"),n=[\"\",\"C\",\"CC\",\"CCC\",\"CD\",\"D\",\"DC\",\"DCC\",\"DCCC\",\"CM\",\"\",\"X\",\"XX\",\"XXX\",\"XL\",\"L\",\"LX\",\"LXX\",\"LXXX\",\"XC\",\"\",\"I\",\"II\",\"III\",\"IV\",\"V\",\"VI\",\"VII\",\"VIII\",\"IX\"],r=\"\",s=3;s--;)r=(n[+t.pop()+10*s]||\"\")+r;return Array(+t.join(\"\")+1).join(\"M\")+r};return Object(j.jsxs)(\"div\",{className:\"container main-container\",children:[!!a.length&&Object(j.jsxs)(\"div\",{ref:w,style:{margin:\"15px\"},children:[Object(j.jsx)(\"h1\",{children:d}),Object(j.jsxs)(\"table\",{children:[Object(j.jsxs)(\"tr\",{children:[Object(j.jsx)(\"td\",{children:\" \"}),a[0].map((function(e,t){return Object(j.jsxs)(\"td\",{style:{textAlign:\"center\"},children:[S(t+1),\".\"]})}))]}),a.map((function(e,t){return Object(j.jsxs)(\"tr\",{children:[Object(j.jsxs)(\"td\",{children:[t+1,\".\"]}),e.map((function(e,n){return Object(j.jsx)(\"td\",{style:{width:\"2em\",height:\"2em\",border:\"1px solid #000\",backgroundColor:\" \"===e?\"black\":\"white\"},children:Object(j.jsx)(\"span\",{style:{textAlign:\"center\"},children:a[t][n]?e:\"\"})})}))]})}))]}),Object(j.jsx)(\"p\",{children:\"Cliquer sur une case et taper la lettre d\\xe9sir\\xe9, Retour arri\\xe8re pour re-initialiser la case.\"}),Object(j.jsx)(\"h3\",{children:\"D\\xe9finitions\"}),Object(j.jsx)(\"h4\",{children:\"Horizontalement\"}),Object(j.jsx)(\"div\",{children:x[0].map((function(e,t){return Object(j.jsxs)(\"div\",{style:{margin:\"5px\"},children:[Object(j.jsxs)(\"span\",{style:{width:\"3em\",display:\"inline-block\"},children:[t+1,\". \"]}),Object(j.jsx)(\"span\",{children:e})]})}))}),Object(j.jsx)(\"h4\",{children:\"Verticalement\"}),Object(j.jsx)(\"div\",{children:x[1].map((function(e,t){return Object(j.jsxs)(\"div\",{style:{margin:\"5px\"},children:[Object(j.jsxs)(\"span\",{style:{width:\"3em\",display:\"inline-block\"},children:[S(t+1),\". \"]}),Object(j.jsx)(\"span\",{children:e})]})}))})]}),Object(j.jsx)(\"button\",{class:\"btn btn-primary\",onClick:C,children:\"Imprimer\"})]})};n(12);var S=function(){var e=O(),t=Object(r.useState)(\"\"),n=Object(l.a)(t,2),s=n[0],a=n[1],c=e.user,o=c.username,u=c.api_token,d=function(){var e=Object(g.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(\"http://localhost:8000/api/user/\"+o,{method:\"GET\",credentials:\"omit\",headers:{Authorization:\"Token \"+u,\"Content-Type\":\"application/json\"}});case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,a(n.crosswords_grids),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),window.location=\"/\";case 13:case\"end\":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){Object(g.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:return e.abrupt(\"return\",e.sent);case 3:case\"end\":return e.stop()}}),e)})))()}),[]),Object(j.jsx)(\"div\",{className:\"container main-container\",children:s.length?s.map((function(e){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(\"div\",{style:{width:\"100%\"},children:[Object(j.jsxs)(\"h3\",{style:{width:\"100%\"},children:[e.published?Object(j.jsx)(i.b,{to:\"/grille/\"+e.id,children:e.title}):e.title,\" \",Object(j.jsx)(i.b,{to:\"/grille/\"+e.id+\"/modifier\",children:Object(j.jsx)(\"button\",{class:\"float-right btn btn-primary\",children:\"Modifier\"})})]}),Object(j.jsxs)(\"span\",{children:[e.width,\"x\",e.height,\" \",e.published&&Object(j.jsx)(\"span\",{class:\"badge bg-danger\",children:\"publi\\xe9\"})]}),Object(j.jsx)(\"br\",{}),Object(j.jsxs)(\"span\",{children:[\"Cr\\xe9\\xe9e \",new Date(e.creation_date).toLocaleDateString(\"fr-FR\")]}),Object(j.jsx)(\"br\",{}),Object(j.jsxs)(\"span\",{children:[\"Modifi\\xe9e \",new Date(e.modification_date).toLocaleDateString(\"fr-FR\")]})]}),Object(j.jsx)(\"hr\",{})]})})):Object(j.jsx)(\"h2\",{children:\"Pas de grilles\"})})};var I=function(){return Object(j.jsx)(x,{children:Object(j.jsxs)(i.a,{basename:\"/\",children:[Object(j.jsx)(v,{}),Object(j.jsxs)(o.c,{children:[Object(j.jsx)(o.a,{exact:!0,path:\"/\",element:Object(j.jsx)(w,{})}),Object(j.jsx)(o.a,{exact:!0,path:\"/nouvelle-grille\",element:Object(j.jsx)(C,{})}),Object(j.jsx)(o.a,{exact:!0,path:\"/mes-grilles\",element:Object(j.jsx)(S,{})}),Object(j.jsx)(o.a,{exact:!0,path:\"/grille/:uid\",element:Object(j.jsx)(N,{})}),Object(j.jsx)(o.a,{exact:!0,path:\"/grille/:uid/modifier\",element:Object(j.jsx)(C,{})})]})]})})};c.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(I,{})}),document.getElementById(\"root\"))}},[[29,1,2]]]);","name":"static/js/main.36a4d0cf.chunk.js","map":{"version":3,"sources":["static/js/main.36a4d0cf.chunk.js"],"names":["this","push","12","module","exports","JSON","parse","22","__webpack_require__","23","29","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","react_router_dom","react_router","slicedToArray","objectSpread2","jsx_runtime","SET_USER","GlobalStateContext","Object","initialState","user","window","localStorage","getItem","useGlobalState_globalStateReducer","state","action","type","setItem","stringify","payload","useGlobalState_GlobalStateProvider","_ref","children","_useReducer","_useReducer2","dispatch","Provider","value","utils_useGlobalState","_useContext","_useContext2","setUser","_ref2","username","api_token","regenerator","regenerator_default","asyncToGenerator","components_login","globalState","_globalState$user","_useState","_useState2","wantLogin","setWantLogin","_useState3","_useState4","login","setLogin","_useState5","_useState6","pass","setPass","_React$useState","a","useState","_React$useState2","errors","setErrors","useEffect","mark","_callee","wrap","_context","prev","next","fetch","method","headers","Content-Type","Authorization","sent","status","Error","t0","stop","onLogin","_callee2","e","res","data","json","_context2","preventDefault","credentials","body","password","token","_x","apply","arguments","onLogout","_ref3","_callee3","_context3","location","style","marginBottom","position","zIndex","textAlign","to","class","onClick","className","data-testid","role","display","padding","non_field_errors","map","dangerouslySetInnerHTML","__html","onSubmit","htmlFor","onChange","target","id","name","placeholder","justifyContent","data-dismiss","Helmet","home","gridEditor","props","dimensions","setDimensions","dimensionsFrozen","setDimensionsFrozen","solutions","setSolutions","_useState7","_useState8","selectedBlock","setSelectedBlock","_useState9","_useState10","title","setTitle","_useState11","_useState12","pub","setPub","_useState13","_useState14","def","setDef","gridId","uid","loadGrid","d","j","i","ch","width","height","solution","toUpperCase","definitions","published","abrupt","selectBlock","romanize","num","isNaN","NaN","digits","String","split","key","roman","pop","Array","join","save","url","response","l","c","toLowerCase","includes","concat","alert","publish","_ref4","_callee4","_context4","deleteG","_ref5","_callee5","_context5","for","min","ev","defaultValue","arr","arr2","_j","Value","val","line","border","onFocus","onBlur","outline","caretColor","backgroundColor","onKeyDown","char","length","test","newSol","document","activeElement","blur","_newSol","setSolutionXY","readOnly","marginTop","margin","txt","tmp","setHorizontalDef","setVerticalDef","lib","gridViewer","componentRef","useRef","print","content","current","grid","ref","ownGrids","list","setList","loadGrids","_list","crosswords_grids","Date","creation_date","toLocaleDateString","modification_date","src_App","basename","exact","path","element","render","StrictMode","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpxwords\"] = this[\"webpackJsonpxwords\"] || []).push([[0],{\n\n/***/ 12:\n/***/ (function(module) {\n\nmodule.exports = JSON.parse(\"{\\\"name\\\":\\\"xwords\\\",\\\"version\\\":\\\"0.1.0\\\",\\\"private\\\":true,\\\"dependencies\\\":{\\\"@testing-library/jest-dom\\\":\\\"^5.11.4\\\",\\\"@testing-library/react\\\":\\\"^11.1.0\\\",\\\"@testing-library/user-event\\\":\\\"^12.1.10\\\",\\\"react\\\":\\\"^17.0.2\\\",\\\"react-dom\\\":\\\"^17.0.2\\\",\\\"react-helmet\\\":\\\"^6.1.0\\\",\\\"react-router-dom\\\":\\\"^6.0.1\\\",\\\"react-scripts\\\":\\\"4.0.3\\\",\\\"react-to-print\\\":\\\"^2.14.0\\\",\\\"web-vitals\\\":\\\"^1.0.1\\\"},\\\"scripts\\\":{\\\"start\\\":\\\"react-scripts start\\\",\\\"build\\\":\\\"react-scripts build\\\",\\\"test\\\":\\\"react-scripts test\\\",\\\"eject\\\":\\\"react-scripts eject\\\"},\\\"eslintConfig\\\":{\\\"extends\\\":[\\\"react-app\\\",\\\"react-app/jest\\\"]},\\\"browserslist\\\":{\\\"production\\\":[\\\">0.2%\\\",\\\"not dead\\\",\\\"not op_mini all\\\"],\\\"development\\\":[\\\"last 1 chrome version\\\",\\\"last 1 firefox version\\\",\\\"last 1 safari version\\\"]}}\");\n\n/***/ }),\n\n/***/ 22:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 23:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 29:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(13);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(22);\n\n// EXTERNAL MODULE: ./src/App.css\nvar App = __webpack_require__(23);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/index.js + 1 modules\nvar react_router_dom = __webpack_require__(8);\n\n// EXTERNAL MODULE: ./node_modules/react-router/index.js\nvar react_router = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(3);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js + 1 modules\nvar objectSpread2 = __webpack_require__(9);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/utils/useGlobalState.js\n/* Action Types */var SET_USER='SET_USER';/* Define a context and a reducer for updating the context */var GlobalStateContext=/*#__PURE__*/Object(react[\"createContext\"])();var initialState={user:JSON.parse(window.localStorage.getItem('drawmyroute_user'))};var useGlobalState_globalStateReducer=function globalStateReducer(state,action){switch(action.type){case SET_USER:window.localStorage.setItem('drawmyroute_user',JSON.stringify(Object(objectSpread2[\"a\" /* default */])({},action.payload)));return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{user:Object(objectSpread2[\"a\" /* default */])({},action.payload)});default:return state;}};/* Export a component to provide the context to its children. This is used in our _app.js file */var useGlobalState_GlobalStateProvider=function GlobalStateProvider(_ref){var children=_ref.children;var _useReducer=Object(react[\"useReducer\"])(useGlobalState_globalStateReducer,initialState),_useReducer2=Object(slicedToArray[\"a\" /* default */])(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GlobalStateContext.Provider,{value:[state,dispatch],children:children});};/* \nDefault export is a hook that provides a simple API for updating the global state. \nThis also allows us to keep all of this state logic in this one file\n*/var useGlobalState_useGlobalState=function useGlobalState(){var _useContext=Object(react[\"useContext\"])(GlobalStateContext),_useContext2=Object(slicedToArray[\"a\" /* default */])(_useContext,2),state=_useContext2[0],dispatch=_useContext2[1];var setUser=function setUser(_ref2){var username=_ref2.username,api_token=_ref2.api_token;dispatch({type:SET_USER,payload:{username:username,api_token:api_token}});};return{setUser:setUser,user:Object(objectSpread2[\"a\" /* default */])({},state.user)};};/* harmony default export */ var utils_useGlobalState = (useGlobalState_useGlobalState);\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(4);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(6);\n\n// CONCATENATED MODULE: ./src/components/login.js\nvar login_Login=function Login(){var globalState=utils_useGlobalState();var _globalState$user=globalState.user,username=_globalState$user.username,api_token=_globalState$user.api_token;var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),wantLogin=_useState2[0],setWantLogin=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),login=_useState4[0],setLogin=_useState4[1];var _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),pass=_useState6[0],setPass=_useState6[1];var _React$useState=react_default.a.useState({}),_React$useState2=Object(slicedToArray[\"a\" /* default */])(_React$useState,2),errors=_React$useState2[0],setErrors=_React$useState2[1];react_default.a.useEffect(function(){Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var res;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!username){_context.next=12;break;}_context.prev=1;_context.next=4;return fetch(\"http://localhost:8000/api\"+'/auth/user/',{method:'GET',headers:{'Content-Type':'application/json','Authorization':'Token '+api_token}});case 4:res=_context.sent;if(!(res.status!==200)){_context.next=7;break;}throw new Error('not logged in');case 7:_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);globalState.setUser({});case 12:case\"end\":return _context.stop();}}},_callee,null,[[1,9]]);}))();},[globalState,api_token,username]);react_default.a.useEffect(function(){if(!wantLogin){setErrors({});}},[wantLogin]);var onLogin=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(e){var res,data,json;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();_context2.next=3;return fetch(\"http://localhost:8000/api\"+'/auth/login',{method:'POST',credentials:'omit',headers:{'Content-Type':'application/json'},body:JSON.stringify({username:login,password:pass})});case 3:res=_context2.sent;if(!(res.status===400)){_context2.next=11;break;}_context2.next=7;return res.json();case 7:data=_context2.sent;setErrors(data);_context2.next=16;break;case 11:setWantLogin(false);_context2.next=14;return res.json();case 14:json=_context2.sent;globalState.setUser({username:json.username,api_token:json.token});case 16:case\"end\":return _context2.stop();}}},_callee2);}));return function onLogin(_x){return _ref2.apply(this,arguments);};}();var onLogout=/*#__PURE__*/function(){var _ref3=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee3(){return regenerator_default.a.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:globalState.setUser({});window.location=\"/\";case 2:case\"end\":return _context3.stop();}}},_callee3);}));return function onLogout(){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{marginBottom:'40px',position:'relative',zIndex:2e3},children:[username&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{textAlign:'right'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{class:\"btn btn-secondary btn-sm\",children:\"Index\"})}),\" \",/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"button\",{onClick:onLogout,className:\"btn btn-danger btn-sm\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"fas fa-power-off\"}),\" Quitter\"]}),\"\\xA0\"]}),!username&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{textAlign:'right'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{class:\"btn btn-secondary btn-sm\",children:\"Index\"})}),\" \",/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"button\",{\"data-testid\":\"loginBtn\",onClick:function onClick(){return setWantLogin(true);},className:\"btn btn-primary btn-sm\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"fas fa-sign-in-alt\"}),\" Enregistrement\"]}),\"\\xA0\"]}),!username&&wantLogin&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"modal\",role:\"dialog\",style:{display:'block'},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"modal-dialog\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"modal-header\",style:{padding:'35px 50px'},children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h4\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"fas fa-sign-in-alt\"}),\"  Enregistrement\"]})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"modal-body\",style:{padding:'40px 50px'},children:[errors.non_field_errors&&errors.non_field_errors.map(function(e){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"alert alert-danger\",role:\"alert\",dangerouslySetInnerHTML:{__html:e}});}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:onLogin,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-group\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{htmlFor:\"username\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"fas fa-user\"}),\" Nom d'utilisateur\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{onChange:function onChange(e){setLogin(e.target.value);},type:\"text\",className:\"form-control\",id:\"username\",name:\"username\",placeholder:\"Nom d'utilisateur\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-group\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{htmlFor:\"password\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"fas fa-key\"}),\" Mot de passe\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{onChange:function onChange(e){setPass(e.target.value);},type:\"password\",className:\"form-control\",id:\"password\",name:\"password\",placeholder:\"Mot de passe\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"button\",{\"data-testid\":\"submitLoginBtn\",type:\"submit\",className:\"btn btn-primary btn-block\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"fas fa-sign-in-alt\"}),\"  Entrer\"]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"modal-footer\",style:{display:'block',justifyContent:'initial'},children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"button\",{type:\"submit\",className:\"btn btn-danger btn-default pull-left\",\"data-dismiss\":\"modal\",onClick:function onClick(){return setWantLogin(false);},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"fas fa-times\"}),\" Retour\"]})})]})})})})]});};/* harmony default export */ var components_login = (login_Login);\n// EXTERNAL MODULE: ./node_modules/react-helmet/es/Helmet.js\nvar Helmet = __webpack_require__(14);\n\n// CONCATENATED MODULE: ./src/components/home.js\n//import LatestRoutes from './LatestRoutes'\nvar home_Home=function Home(){var globalState=utils_useGlobalState();var username=globalState.user.username;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Helmet[\"a\" /* Helmet */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"title\",{children:\"Mots crois\\xE9s\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"container main-container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{textAlign:'center'},children:[username&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/nouvelle-grille\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"button\",{className:\"btn btn-primary\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"fas fa-plus\"}),\" Creer une nouvelle grille\"]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:\" \"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/mes-grilles/\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"button\",{className:\"btn btn-primary\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"fas fa-link\"}),\" Vos grilles\"]})})]}),!username&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\"Enregistrez vous pour cr\\xE9er de nouvelles grilles ou voir vos grilles sauvegard\\xE9es sur le site.\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{})]})})]});};/* harmony default export */ var home = (home_Home);\n// CONCATENATED MODULE: ./src/components/gridEditor.js\nvar pkg=__webpack_require__(12);function GridEditor(props){var globalState=utils_useGlobalState();var _useState=Object(react[\"useState\"])([10,10]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),dimensions=_useState2[0],setDimensions=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),dimensionsFrozen=_useState4[0],setDimensionsFrozen=_useState4[1];var _useState5=Object(react[\"useState\"])([]),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),solutions=_useState6[0],setSolutions=_useState6[1];var _useState7=Object(react[\"useState\"])(null),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),selectedBlock=_useState8[0],setSelectedBlock=_useState8[1];var _useState9=Object(react[\"useState\"])(''),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),title=_useState10[0],setTitle=_useState10[1];var _useState11=Object(react[\"useState\"])(false),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),pub=_useState12[0],setPub=_useState12[1];var _useState13=Object(react[\"useState\"])([[],[]]),_useState14=Object(slicedToArray[\"a\" /* default */])(_useState13,2),def=_useState14[0],setDef=_useState14[1];var _globalState$user=globalState.user,username=_globalState$user.username,api_token=_globalState$user.api_token;var _useParams=Object(react_router[\"g\" /* useParams */])(),gridId=_useParams.uid;var loadGrid=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(id){var r,d,a,j,i,ch;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"http://localhost:8000/api\"+'/grid/'+id,{method:'GET',credentials:'omit',headers:{'Authorization':'Token '+api_token,'Content-Type':'application/json'}});case 3:r=_context.sent;_context.next=6;return r.json();case 6:d=_context.sent;setDimensions([d.width,d.height]);setTitle(d.title);a=[];for(j=0;j<d.height;j++){a.push([]);for(i=0;i<d.width;i++){ch=d.solution[j*d.width+i];a[j].push(ch==='_'?'':ch.toUpperCase());}}setSolutions(a);setDef(d.definitions);setPub(d.published);setDimensionsFrozen(true);_context.next=20;break;case 17:_context.prev=17;_context.t0=_context[\"catch\"](0);window.location='/';case 20:case\"end\":return _context.stop();}}},_callee,null,[[0,17]]);}));return function loadGrid(_x){return _ref.apply(this,arguments);};}();Object(react[\"useEffect\"])(function(){if(gridId){Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(){return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return loadGrid(gridId);case 2:return _context2.abrupt(\"return\",_context2.sent);case 3:case\"end\":return _context2.stop();}}},_callee2);}))();}},[gridId]);var onChangeWidth=function onChangeWidth(ev){setDimensions([ev.target.value,dimensions[1]]);};var onChangeHeight=function onChangeHeight(ev){setDimensions([dimensions[0],ev.target.value]);};var freezeDimensions=function freezeDimensions(){setDimensionsFrozen(true);var arr=[];var arr2=[[],[]];for(var i=0;i<dimensions[1];i++){arr.push([]);arr2[0].push('');for(var j=0;j<dimensions[0];j++){arr[i].push('');}}for(var _j=0;_j<dimensions[0];_j++){arr2[1].push('');}setSolutions(arr);setDef(arr2);};var selectBlock=function selectBlock(i,j){setSelectedBlock([i,j]);};var setSolutionXY=function setSolutionXY(i,j,e){e.preventDefault();var char=e.key.toLowerCase();if(char.length===1&&/[a-z -]/.test(char)){var newSol=solutions;newSol[i][j]=char.toUpperCase();setSolutions(newSol);setSelectedBlock(null);document.activeElement.blur();}if(char==='backspace'){var _newSol=solutions;_newSol[i][j]='';setSolutions(_newSol);setSelectedBlock(null);document.activeElement.blur();}};var setHorizontalDef=function setHorizontalDef(i,txt){var tmp=def;tmp[0][i]=txt;setDef(tmp);};var setVerticalDef=function setVerticalDef(i,txt){var tmp=def;tmp[1][i]=txt;setDef(tmp);};var romanize=function romanize(num){if(isNaN(num))return NaN;var digits=String(+num).split(\"\"),key=[\"\",\"C\",\"CC\",\"CCC\",\"CD\",\"D\",\"DC\",\"DCC\",\"DCCC\",\"CM\",\"\",\"X\",\"XX\",\"XXX\",\"XL\",\"L\",\"LX\",\"LXX\",\"LXXX\",\"XC\",\"\",\"I\",\"II\",\"III\",\"IV\",\"V\",\"VI\",\"VII\",\"VIII\",\"IX\"],roman=\"\",i=3;while(i--){roman=(key[+digits.pop()+i*10]||\"\")+roman;}return Array(+digits.join(\"\")+1).join(\"M\")+roman;};var save=/*#__PURE__*/function(){var _ref3=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee3(){var url,response,res;return regenerator_default.a.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;url=\"http://localhost:8000/api\"+'/grid/'+(gridId?gridId:'new');_context3.next=4;return fetch(url,{method:gridId?'PUT':'POST',credentials:'omit',headers:{'Authorization':'Token '+api_token,'Content-Type':'application/json'},body:JSON.stringify({width:dimensions[0],height:dimensions[1],title:title!==''?title:'Grille sans titre',solution:solutions.map(function(l){return l.map(function(c){return c===''?'_':c===' '?'#':c.toLowerCase();}).join('');}).join(''),definitions:def,published:pub?!solutions.map(function(l){return l.map(function(c){return c===''?'_':c===' '?'#':c.toLowerCase();}).join('');}).join('').includes('_'):false})});case 4:response=_context3.sent;if(!(response.status===200||response.status===201)){_context3.next=12;break;}_context3.next=8;return response.json();case 8:res=_context3.sent;window.location=\"/grille/\".concat(res.id,\"/modifier\");_context3.next=13;break;case 12:throw new Error('not ok status');case 13:_context3.next=18;break;case 15:_context3.prev=15;_context3.t0=_context3[\"catch\"](0);alert('Une erreur est survenue...');case 18:case\"end\":return _context3.stop();}}},_callee3,null,[[0,15]]);}));return function save(){return _ref3.apply(this,arguments);};}();var publish=/*#__PURE__*/function(){var _ref4=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee4(){return regenerator_default.a.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return fetch(\"http://localhost:8000/api\"+'/grid/'+gridId,{method:'PUT',credentials:'omit',headers:{'Authorization':'Token '+api_token,'Content-Type':'application/json'},body:JSON.stringify({width:dimensions[0],height:dimensions[1],title:title!==''?title:'Grille sans titre',solution:solutions.map(function(l){return l.map(function(c){return c===' '?'#':c.toLowerCase();}).join('');}).join(''),definitions:def,published:true})});case 2:window.location='/grille/'+gridId;case 3:case\"end\":return _context4.stop();}}},_callee4);}));return function publish(){return _ref4.apply(this,arguments);};}();var deleteG=/*#__PURE__*/function(){var _ref5=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee5(){return regenerator_default.a.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return fetch(\"http://localhost:8000/api\"+'/grid/'+gridId,{method:'DELETE',credentials:'omit',headers:{'Authorization':'Token '+api_token,'Content-Type':'application/json'}});case 2:window.location='/';case 3:case\"end\":return _context5.stop();}}},_callee5);}));return function deleteG(){return _ref5.apply(this,arguments);};}();var isGridFull=function isGridFull(){return solutions.map(function(l){return l.map(function(c){return c;}).join('');}).join('').length===dimensions[0]*dimensions[1];};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"container main-container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h1\",{children:[gridId?'Editeur de grille':'Nouvelle grille',\" \"]}),!dimensionsFrozen&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Dimensions\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{for:\"width\",children:\"Largeur\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{name:\"width\",type:\"number\",min:\"1\",onChange:onChangeWidth,defaultValue:dimensions[0]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{for:\"height\",children:\"Hauteur\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{name:\"height\",type:\"number\",min:\"1\",onChange:onChangeHeight,defaultValue:dimensions[1]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{class:\"btn btn-primary\",onClick:freezeDimensions,children:\"Continuer\"})]}),dimensionsFrozen&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Titre: \"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",onChange:function onChange(e){return setTitle(e.target.Value);},placeholder:\"Titre de la grille\",defaultValue:title}),\" \",pub&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{class:\"badge bg-danger\",children:\"publi\\xE9\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"table\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"tr\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{children:\" \"}),solutions[0].map(function(val,j){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"td\",{style:{textAlign:'center'},children:[romanize(j+1),\".\"]});})]}),solutions.map(function(line,i){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"tr\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"td\",{children:[i+1,\".\"]}),line.map(function(val,j){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{style:{width:'2em',height:'2em',border:'1px solid #000'},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",onFocus:function onFocus(){return selectBlock(i,j);},onBlur:function onBlur(){return selectBlock(null);},style:{outline:'none',textAlign:'center',border:'0',caretColor:'transparent',width:'2em',backgroundColor:selectedBlock&&selectedBlock[0]===i&&selectedBlock[1]===j?'red':val===' '?'black':'white'},onKeyDown:function onKeyDown(e){return setSolutionXY(i,j,e);},readOnly:true,value:solutions[i][j]?val:''})});})]});})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"Cliquer sur une case et taper la lettre d\\xE9sir\\xE9, Espace pour noircire la case, Retour arri\\xE8re pour re-initialiser la case.\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{marginTop:'15px'},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{class:\"btn btn-primary save-btn\",onClick:save,children:\"Sauvegarder\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"D\\xE9finitions\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h4\",{children:\"Horizontalement\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:solutions.map(function(l,i){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{margin:'5px'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{style:{width:'3em',display:'inline-block'},children:[i+1,\". \"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{style:{width:'500px'},type:\"text\",onChange:function onChange(e){return setHorizontalDef(i,e.target.value);},defaultValue:def[0][i]})]});})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h4\",{children:\"Verticalement\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:solutions[0].map(function(l,i){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{margin:'5px'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{style:{width:'3em',display:'inline-block'},children:[romanize(i+1),\". \"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{style:{width:'500px'},type:\"text\",onChange:function onChange(e){return setVerticalDef(i,e.target.value);},defaultValue:def[1][i]})]});})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{marginTop:'15px'},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{class:\"btn btn-primary save-btn\",onClick:save,children:\"Sauvegarder\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{marginTop:'15px'},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{class:\"btn btn-danger\",onClick:deleteG,children:\"Supprimer\"})}),isGridFull()&&gridId&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{marginTop:'15px'},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{class:\"btn btn-success\",onClick:publish,children:\"Publier\"})})]})]});}/* harmony default export */ var gridEditor = (GridEditor);\n// EXTERNAL MODULE: ./node_modules/react-to-print/lib/index.js\nvar lib = __webpack_require__(17);\n\n// CONCATENATED MODULE: ./src/components/gridViewer.js\nvar gridViewer_pkg=__webpack_require__(12);function gridViewer_GridEditor(){var globalState=utils_useGlobalState();var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),solutions=_useState2[0],setSolutions=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),title=_useState4[0],setTitle=_useState4[1];var _useState5=Object(react[\"useState\"])([[],[]]),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),def=_useState6[0],setDef=_useState6[1];var _globalState$user=globalState.user,username=_globalState$user.username,api_token=_globalState$user.api_token;var _useParams=Object(react_router[\"g\" /* useParams */])(),gridId=_useParams.uid;var componentRef=react_default.a.useRef();var print=Object(lib[\"useReactToPrint\"])({content:function content(){return componentRef.current;}});var loadGrid=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(id){var r,d,a,j,i,ch;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"http://localhost:8000/api\"+'/grid/'+id);case 3:r=_context.sent;_context.next=6;return r.json();case 6:d=_context.sent;setTitle(d.title);a=[];for(j=0;j<d.height;j++){a.push([]);for(i=0;i<d.width;i++){ch=d.grid[j*d.width+i];a[j].push(ch==='_'?'':ch.toUpperCase());}}setSolutions(a);setDef(d.definitions);_context.next=17;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](0);window.location='/';case 17:case\"end\":return _context.stop();}}},_callee,null,[[0,14]]);}));return function loadGrid(_x){return _ref.apply(this,arguments);};}();Object(react[\"useEffect\"])(function(){if(gridId){Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(){return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return loadGrid(gridId);case 2:return _context2.abrupt(\"return\",_context2.sent);case 3:case\"end\":return _context2.stop();}}},_callee2);}))();}},[gridId]);var romanize=function romanize(num){if(isNaN(num))return NaN;var digits=String(+num).split(\"\"),key=[\"\",\"C\",\"CC\",\"CCC\",\"CD\",\"D\",\"DC\",\"DCC\",\"DCCC\",\"CM\",\"\",\"X\",\"XX\",\"XXX\",\"XL\",\"L\",\"LX\",\"LXX\",\"LXXX\",\"XC\",\"\",\"I\",\"II\",\"III\",\"IV\",\"V\",\"VI\",\"VII\",\"VIII\",\"IX\"],roman=\"\",i=3;while(i--){roman=(key[+digits.pop()+i*10]||\"\")+roman;}return Array(+digits.join(\"\")+1).join(\"M\")+roman;};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"container main-container\",children:[!!solutions.length&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{ref:componentRef,style:{margin:'15px'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:title}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"table\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"tr\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{children:\" \"}),solutions[0].map(function(val,j){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"td\",{style:{textAlign:'center'},children:[romanize(j+1),\".\"]});})]}),solutions.map(function(line,i){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"tr\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"td\",{children:[i+1,\".\"]}),line.map(function(val,j){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{style:{width:'2em',height:'2em',border:'1px solid #000',backgroundColor:val===' '?'black':'white'},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{style:{textAlign:'center'},children:solutions[i][j]?val:''})});})]});})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"Cliquer sur une case et taper la lettre d\\xE9sir\\xE9, Retour arri\\xE8re pour re-initialiser la case.\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"D\\xE9finitions\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h4\",{children:\"Horizontalement\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:def[0].map(function(l,i){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{margin:'5px'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{style:{width:'3em',display:'inline-block'},children:[i+1,\". \"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:l})]});})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h4\",{children:\"Verticalement\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:def[1].map(function(l,i){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{margin:'5px'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{style:{width:'3em',display:'inline-block'},children:[romanize(i+1),\". \"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:l})]});})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{class:\"btn btn-primary\",onClick:print,children:\"Imprimer\"})]});}/* harmony default export */ var gridViewer = (gridViewer_GridEditor);\n// CONCATENATED MODULE: ./src/components/ownGrids.js\nvar ownGrids_pkg=__webpack_require__(12);function OwnGrids(){var globalState=utils_useGlobalState();var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),list=_useState2[0],setList=_useState2[1];var _globalState$user=globalState.user,username=_globalState$user.username,api_token=_globalState$user.api_token;var loadGrids=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var r,_list;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"http://localhost:8000/api\"+'/user/'+username,{method:'GET',credentials:'omit',headers:{'Authorization':'Token '+api_token,'Content-Type':'application/json'}});case 3:r=_context.sent;_context.next=6;return r.json();case 6:_list=_context.sent;setList(_list.crosswords_grids);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);window.location='/';case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return function loadGrids(){return _ref.apply(this,arguments);};}();Object(react[\"useEffect\"])(function(){Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(){return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return loadGrids();case 2:return _context2.abrupt(\"return\",_context2.sent);case 3:case\"end\":return _context2.stop();}}},_callee2);}))();},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"container main-container\",children:!!list.length?list.map(function(e){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{width:'100%'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h3\",{style:{width:'100%'},children:[e.published?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/grille/\"+e.id,children:e.title}):e.title,\" \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/grille/\"+e.id+'/modifier',children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{class:\"float-right btn btn-primary\",children:\"Modifier\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{children:[e.width,\"x\",e.height,\" \",e.published&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{class:\"badge bg-danger\",children:\"publi\\xE9\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{children:[\"Cr\\xE9\\xE9e \",new Date(e.creation_date).toLocaleDateString(\"fr-FR\")]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{children:[\"Modifi\\xE9e \",new Date(e.modification_date).toLocaleDateString(\"fr-FR\")]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{})]});}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Pas de grilles\"})});}/* harmony default export */ var ownGrids = (OwnGrids);\n// CONCATENATED MODULE: ./src/App.js\nfunction App_App(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(useGlobalState_GlobalStateProvider,{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router_dom[\"a\" /* BrowserRouter */],{basename:\"/\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_login,{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"c\" /* Routes */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{exact:true,path:\"/\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(home,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{exact:true,path:\"/nouvelle-grille\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(gridEditor,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{exact:true,path:\"/mes-grilles\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ownGrids,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{exact:true,path:\"/grille/:uid\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(gridViewer,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{exact:true,path:\"/grille/:uid/modifier\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(gridEditor,{})})]})]})});}/* harmony default export */ var src_App = (App_App);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById('root'));\n\n/***/ })\n\n},[[29,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/rphl/Projects/XWordsApp/crosswords/frontend/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/rphl/Projects/XWordsApp/crosswords/frontend/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/rphl/Projects/XWordsApp/crosswords/frontend/node_modules/postcss-loader/src/index.js??postcss!/Users/rphl/Projects/XWordsApp/crosswords/frontend/src/index.css","/Users/rphl/Projects/XWordsApp/crosswords/frontend/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/rphl/Projects/XWordsApp/crosswords/frontend/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/rphl/Projects/XWordsApp/crosswords/frontend/node_modules/postcss-loader/src/index.js??postcss!/Users/rphl/Projects/XWordsApp/crosswords/frontend/src/App.css","/Users/rphl/Projects/XWordsApp/crosswords/frontend/src/utils/useGlobalState.js","/Users/rphl/Projects/XWordsApp/crosswords/frontend/src/components/login.js","/Users/rphl/Projects/XWordsApp/crosswords/frontend/src/components/home.js","/Users/rphl/Projects/XWordsApp/crosswords/frontend/src/components/gridEditor.js","/Users/rphl/Projects/XWordsApp/crosswords/frontend/src/components/gridViewer.js","/Users/rphl/Projects/XWordsApp/crosswords/frontend/src/components/ownGrids.js","/Users/rphl/Projects/XWordsApp/crosswords/frontend/src/App.js","/Users/rphl/Projects/XWordsApp/crosswords/frontend/src/index.js"],"names":["SET_USER","GlobalStateContext","createContext","initialState","user","JSON","parse","window","localStorage","getItem","globalStateReducer","state","action","type","setItem","stringify","payload","GlobalStateProvider","children","useReducer","dispatch","useGlobalState","useContext","setUser","username","api_token","Login","globalState","useState","wantLogin","setWantLogin","login","setLogin","pass","setPass","React","errors","setErrors","useEffect","fetch","process","method","headers","res","status","Error","onLogin","e","preventDefault","credentials","body","password","json","data","token","onLogout","location","marginBottom","position","zIndex","textAlign","display","padding","non_field_errors","map","__html","target","value","justifyContent","Home","pkg","require","GridEditor","props","dimensions","setDimensions","dimensionsFrozen","setDimensionsFrozen","solutions","setSolutions","selectedBlock","setSelectedBlock","title","setTitle","pub","setPub","def","setDef","useParams","gridId","uid","loadGrid","id","r","d","width","height","a","j","push","i","ch","solution","toUpperCase","definitions","published","onChangeWidth","ev","onChangeHeight","freezeDimensions","arr","arr2","selectBlock","setSolutionXY","char","key","toLowerCase","length","test","newSol","document","activeElement","blur","setHorizontalDef","txt","tmp","setVerticalDef","romanize","num","isNaN","NaN","digits","String","split","roman","pop","Array","join","save","url","l","c","includes","response","alert","publish","deleteG","isGridFull","Value","val","line","border","outline","caretColor","backgroundColor","marginTop","margin","componentRef","useRef","print","useReactToPrint","content","current","grid","OwnGrids","list","setList","loadGrids","crosswords_grids","Date","creation_date","toLocaleDateString","modification_date","App","ReactDOM","render","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import React from 'react'\nimport { createContext, useReducer, useContext } from 'react';\n\n/* Action Types */\nconst SET_USER = 'SET_USER';\n\n/* Define a context and a reducer for updating the context */\nconst GlobalStateContext = createContext();\n\nconst initialState = {\n  user: JSON.parse(window.localStorage.getItem('drawmyroute_user'))\n};\n\nconst globalStateReducer = (state, action) => {\n  switch (action.type) {\n    case SET_USER:\n      window.localStorage.setItem('drawmyroute_user', JSON.stringify({ ...action.payload }))\n      return {\n        ...state,\n        user: { ...action.payload },\n      };\n\n    default:\n      return state;\n  }\n};\n\n/* Export a component to provide the context to its children. This is used in our _app.js file */\n\nexport const GlobalStateProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(\n    globalStateReducer, \n    initialState\n  );\n\n  return (\n    <GlobalStateContext.Provider value={[state, dispatch]}>\n      {children}\n    </GlobalStateContext.Provider>\n  );\n};\n\n/* \nDefault export is a hook that provides a simple API for updating the global state. \nThis also allows us to keep all of this state logic in this one file\n*/\n\nconst useGlobalState = () => {\n  const [state, dispatch] = useContext(GlobalStateContext);\n\n  const setUser = ({ username, api_token }) => {\n    dispatch({ \n      type: SET_USER, \n      payload: { \n        username,\n        api_token,\n      } \n    });\n  };\n\n  return {\n    setUser,\n    user: { ...state.user },\n  };\n};\n\nexport default useGlobalState;","import React, { useState } from 'react'\nimport { Link } from 'react-router-dom'\nimport useGlobalState from '../utils/useGlobalState'\n\nconst Login = () => {\n    const globalState = useGlobalState()\n    const { username, api_token } = globalState.user\n    const [wantLogin, setWantLogin] = useState(false)\n    const [login, setLogin] = useState(false)\n    const [pass, setPass] = useState(false)\n    const [errors, setErrors] = React.useState({})\n\n    React.useEffect(()=>{\n      (async () => {\n        if (username) {\n          try {\n            const res = await fetch(process.env.REACT_APP_API_URL + '/auth/user/', {\n              method: 'GET',\n              headers: {\n                  'Content-Type': 'application/json',\n                  'Authorization': 'Token ' + api_token,\n              }\n            })\n            if (res.status !== 200) {\n              throw new Error('not logged in')\n            }\n          } catch (e) {\n            globalState.setUser({})\n          }\n        }\n      })()\n    }, [globalState, api_token, username])\n  \n    React.useEffect(() => {\n      if (!wantLogin){\n        setErrors({});\n      }\n    }, [wantLogin])\n\n    const onLogin = async (e) => {\n      e.preventDefault()\n      const res = await fetch(process.env.REACT_APP_API_URL + '/auth/login', {\n        method: 'POST',\n        credentials: 'omit',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({username: login, password: pass})\n      })\n      if(res.status === 400) {\n        const data = await res.json()\n        setErrors(data)\n      } else {\n        setWantLogin(false)\n        const json = await res.json()\n        globalState.setUser({username: json.username, api_token: json.token})\n      }\n    }\n    const onLogout = async () => {\n      globalState.setUser({})\n      window.location = \"/\"\n    }\n    return (\n      <div style={{marginBottom: '40px', position: 'relative', zIndex: 2e3}}>\n      {username && <div style={{textAlign:'right'}}>\n          <Link to=\"/\"><button class=\"btn btn-secondary btn-sm\">Index</button></Link> <button onClick={onLogout} className=\"btn btn-danger btn-sm\"><i className=\"fas fa-power-off\"></i> Quitter</button>&nbsp;\n        </div>}\n      {!username && (<div style={{textAlign:'right'}}>\n        <Link to=\"/\"><button class=\"btn btn-secondary btn-sm\">Index</button></Link> <button data-testid=\"loginBtn\" onClick={()=>setWantLogin(true)} className=\"btn btn-primary btn-sm\"><i className=\"fas fa-sign-in-alt\"></i> Enregistrement</button>\n          &nbsp;\n        </div>)}\n      {!username && wantLogin && (<div>\n        <div className=\"modal\" role=\"dialog\" style={{display: 'block'}}>\n          <div className=\"modal-dialog\">\n            <div className=\"modal-content\">\n              <div className=\"modal-header\" style={{padding:'35px 50px'}}>\n                <h4><i className=\"fas fa-sign-in-alt\"></i>  Enregistrement</h4>\n              </div>\n              <div className=\"modal-body\" style={{padding:'40px 50px'}}>\n                {errors.non_field_errors && errors.non_field_errors.map(e=>\n                    <div className=\"alert alert-danger\" role=\"alert\" dangerouslySetInnerHTML={{__html: e}}></div>\n                )}\n                <form onSubmit={onLogin}>\n                  <div className=\"form-group\">\n                    <label htmlFor=\"username\"><i className=\"fas fa-user\"></i> Nom d'utilisateur</label>\n                    <input onChange={(e)=>{setLogin(e.target.value)}} type=\"text\" className=\"form-control\" id=\"username\" name=\"username\" placeholder=\"Nom d'utilisateur\"/>\n                  </div>\n                  <div className=\"form-group\">\n                    <label htmlFor=\"password\"><i className=\"fas fa-key\"></i> Mot de passe</label>\n                    <input onChange={(e)=>{setPass(e.target.value)}} type=\"password\" className=\"form-control\" id=\"password\" name=\"password\" placeholder=\"Mot de passe\"/>\n                  </div>\n                  <button data-testid=\"submitLoginBtn\" type=\"submit\" className=\"btn btn-primary btn-block\"><i className=\"fas fa-sign-in-alt\"></i>  Entrer</button>\n                </form>\n              </div>\n              <div className=\"modal-footer\" style={{display:'block', justifyContent:'initial'}}>\n                <button type=\"submit\" className=\"btn btn-danger btn-default pull-left\" data-dismiss=\"modal\" onClick={()=>setWantLogin(false)}><i className=\"fas fa-times\"></i> Retour</button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>)\n      }\n      </div>\n    )\n  }\n  \n  export default Login","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport useGlobalState from '../utils/useGlobalState.js'\n//import LatestRoutes from './LatestRoutes'\nimport {Helmet} from 'react-helmet'\n\nconst Home = () => {\n    const globalState = useGlobalState()\n    const { username } = globalState.user\n    return (<>\n        <Helmet>\n            <title>Mots croisés</title>\n        </Helmet>\n\n        <div className=\"container main-container\">\n            <div style={{textAlign:'center'}} >\n            {username && <><hr/>\n            <Link to=\"/nouvelle-grille\"><button className=\"btn btn-primary\"><i className=\"fas fa-plus\"></i> Creer une nouvelle grille</button></Link><> </>\n            <Link to='/mes-grilles/'><button className=\"btn btn-primary\"><i className=\"fas fa-link\"></i> Vos grilles</button></Link>\n            </>}\n            {!username && <><hr/>\n                <span>Enregistrez vous pour créer de nouvelles grilles ou voir vos grilles sauvegardées sur le site.</span>\n            </>}\n            <hr/>\n            {/*<LatestRoutes/>*/}\n            </div>\n        </div>\n    </>)\n}\n\nexport default Home","import React, { useEffect, useState } from 'react'\nimport useGlobalState from '../utils/useGlobalState'\nimport { useParams } from \"react-router-dom\";\nconst pkg = require('../../package.json')\n\nfunction GridEditor(props) {\n    const globalState = useGlobalState()\n    const [dimensions, setDimensions] = useState([10, 10])\n    const [dimensionsFrozen, setDimensionsFrozen] = useState(false)\n    const [solutions, setSolutions] = useState([])\n    const [selectedBlock, setSelectedBlock] = useState(null)\n    const [title, setTitle] = useState('')\n    const [pub, setPub] = useState(false)\n    const [def, setDef] = useState([[], []])\n    const { username, api_token } = globalState.user\n    const {uid: gridId} = useParams();\n\n\n    const loadGrid = async (id) => {\n        try {\n            const r = await fetch(process.env.REACT_APP_API_URL+'/grid/'+id, {\n                method: 'GET',\n                credentials: 'omit',\n                headers: {\n                    'Authorization': 'Token ' + api_token,\n                    'Content-Type': 'application/json'\n                }\n            })\n            const d = await r.json()\n            setDimensions([d.width, d.height])\n            setTitle(d.title)\n            const a = []\n            for (let j=0; j< d.height; j++){\n                a.push([])\n                for (let i=0; i< d.width; i++){\n                    const ch = d.solution[j*d.width+i]\n                    a[j].push(ch === '_' ? '': ch.toUpperCase())\n                }\n            }\n            setSolutions(a)\n            setDef(d.definitions)\n            setPub(d.published)\n            setDimensionsFrozen(true)\n        } catch(e) {\n            window.location = '/'\n        }\n    }\n\n    useEffect(()=>{\n        if (gridId) {\n            (async () => (await loadGrid(gridId)))()\n        }\n            \n    }, [gridId])\n\n    const onChangeWidth = (ev) => {\n        setDimensions([ev.target.value, dimensions[1]])\n    }\n\n    const onChangeHeight = (ev) => {\n        setDimensions([dimensions[0], ev.target.value])\n    }\n\n    const freezeDimensions = () => {\n        setDimensionsFrozen(true)\n        \n        const arr = []\n        const arr2 = [[], []]\n        for (let i=0; i < dimensions[1]; i++) {\n            arr.push([])\n            arr2[0].push('')\n            for (let j=0; j < dimensions[0]; j++) {\n                arr[i].push('')\n            }\n        }\n        for (let j=0; j < dimensions[0]; j++) {\n            arr2[1].push('')\n        }\n        setSolutions(arr)\n        setDef(arr2)\n    }\n   \n    const selectBlock = (i, j) => {\n        setSelectedBlock([i, j])\n    }\n\n    const setSolutionXY = (i, j, e) => {\n        e.preventDefault()\n        const char = e.key.toLowerCase()\n        if (char.length === 1 && /[a-z -]/.test(char)){\n            const newSol = solutions;\n            newSol[i][j] = char.toUpperCase()\n            setSolutions(newSol)\n            setSelectedBlock(null);\n            document.activeElement.blur();\n        }\n        if(char === 'backspace'){\n            const newSol = solutions;\n            newSol[i][j] = ''\n            setSolutions(newSol)\n            setSelectedBlock(null);\n            document.activeElement.blur();\n        }\n    }\n\n    const setHorizontalDef = (i, txt) => {\n        const tmp = def\n        tmp[0][i] = txt\n        setDef(tmp)\n    }\n\n    const setVerticalDef = (i, txt) => {\n        const tmp = def\n        tmp[1][i] = txt\n        setDef(tmp)\n    }\n\n    const romanize = (num) => {\n        if (isNaN(num))\n            return NaN;\n        var digits = String(+num).split(\"\"),\n            key = [\"\",\"C\",\"CC\",\"CCC\",\"CD\",\"D\",\"DC\",\"DCC\",\"DCCC\",\"CM\",\n                   \"\",\"X\",\"XX\",\"XXX\",\"XL\",\"L\",\"LX\",\"LXX\",\"LXXX\",\"XC\",\n                   \"\",\"I\",\"II\",\"III\",\"IV\",\"V\",\"VI\",\"VII\",\"VIII\",\"IX\"],\n            roman = \"\",\n            i = 3;\n        while (i--)\n            roman = (key[+digits.pop() + (i * 10)] || \"\") + roman;\n        return Array(+digits.join(\"\") + 1).join(\"M\") + roman;\n    }\n\n    const save = async () => {\n        try {\n            const url = process.env.REACT_APP_API_URL + '/grid/' + (gridId ? gridId : 'new')\n            const response = await fetch(url, {\n                method: gridId ? 'PUT' : 'POST',\n                credentials: 'omit',\n                headers: {\n                    'Authorization': 'Token ' + api_token,\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    width: dimensions[0],\n                    height: dimensions[1],\n                    title: title !== '' ? title : 'Grille sans titre',\n                    solution: solutions.map(l=>l.map(c=> (c==='' ? '_' : (c === ' ' ? '#' : c.toLowerCase()))).join('')).join(''),\n                    definitions: def,\n                    published: pub ? (!solutions.map(l=>l.map(c=> (c==='' ? '_' : (c === ' ' ? '#' : c.toLowerCase()))).join('')).join('').includes('_')) : false\n                })\n            })\n            if (response.status===200 || response.status===201) {\n                const res = await response.json();\n                window.location = `/grille/${res.id}/modifier`\n            } else {\n                throw new Error('not ok status')\n            }\n        } catch (e) {\n            alert('Une erreur est survenue...')\n        }\n    }\n\n    const publish = async () => {\n        await fetch(process.env.REACT_APP_API_URL+'/grid/'+gridId, {\n            method: 'PUT',\n            credentials: 'omit',\n            headers: {\n                'Authorization': 'Token ' + api_token,\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                width: dimensions[0],\n                height: dimensions[1],\n                title: title !== '' ? title : 'Grille sans titre',\n                solution: solutions.map(l=>l.map(c=> (c === ' ' ? '#' : c.toLowerCase())).join('')).join(''),\n                definitions: def,\n                published: true\n            })\n        })\n        window.location = '/grille/' + gridId\n    }\n    const deleteG = async () => {\n        await fetch(process.env.REACT_APP_API_URL+'/grid/'+gridId, {\n            method: 'DELETE',\n            credentials: 'omit',\n            headers: {\n                'Authorization': 'Token ' + api_token,\n                'Content-Type': 'application/json'\n            },\n        })\n        window.location = '/'\n    }\n\n    const isGridFull = () => {\n        return solutions.map(l=>l.map(c=> c).join('')).join('').length === dimensions[0]*dimensions[1]\n    }\n    return (\n        <div className=\"container main-container\">\n            <h1>{gridId ? 'Editeur de grille':'Nouvelle grille'} </h1>\n            \n            {!dimensionsFrozen && (<>\n                <h3>Dimensions</h3>\n                <label for=\"width\">Largeur</label>\n                <input name=\"width\" type=\"number\" min=\"1\" onChange={onChangeWidth} defaultValue={dimensions[0]}></input>\n                <label for=\"height\">Hauteur</label>\n                <input name=\"height\" type=\"number\" min=\"1\" onChange={onChangeHeight} defaultValue={dimensions[1]}></input>\n                <button class=\"btn btn-primary\" onClick={freezeDimensions}>Continuer</button>\n            </>)}\n            {dimensionsFrozen && (<><label>Titre: </label><input type='text' onChange={(e)=>setTitle(e.target.Value)} placeholder=\"Titre de la grille\" defaultValue={title}></input> {pub && <span class=\"badge bg-danger\">publié</span>}<table>\n                <tr><td> </td>{solutions[0].map((val, j)=>(<td style={{textAlign: 'center'}}>{romanize(j+1)}.</td>))}</tr>\n                { solutions.map((line, i)=>(\n                    <tr><td>{i+1}.</td>{line.map((val, j)=>(<td style={{width: '2em', height: '2em', border: '1px solid #000'}}><input type='text' onFocus={() => selectBlock(i, j)} onBlur={() => selectBlock(null)} style={{outline: 'none', textAlign: 'center', border: '0', caretColor: 'transparent', width: '2em', backgroundColor: ((selectedBlock && (selectedBlock[0] === i && selectedBlock[1] === j)) ? 'red' : (val === ' ' ? 'black' : 'white'))}} onKeyDown={(e) => setSolutionXY(i, j, e)} readOnly value={solutions[i][j] ? val : ''}/></td>))}</tr>\n                ))\n                }\n                </table>\n                <p>Cliquer sur une case et taper la lettre désiré, Espace pour noircire la case, Retour arrière pour re-initialiser la case.</p>\n                <div style={{marginTop: '15px'}}>\n                    <button class=\"btn btn-primary save-btn\" onClick={save}>Sauvegarder</button>\n                </div>\n                <h3>Définitions</h3>\n                <h4>Horizontalement</h4>\n                <div>\n                {solutions.map((l, i) => (\n                    <div style={{margin: '5px'}}><span style={{width: '3em', display: 'inline-block'}}>{i+1}. </span><input  style={{width: '500px'}} type=\"text\"  onChange={(e) => setHorizontalDef(i, e.target.value)} defaultValue={def[0][i]}></input></div>\n                ))}\n                </div>\n                <h4>Verticalement</h4>\n                <div>\n                {solutions[0].map((l, i) => (\n                    <div style={{margin: '5px'}}><span style={{width: '3em', display: 'inline-block'}}>{romanize(i+1)}. </span><input style={{width: '500px'}} type=\"text\" onChange={(e) => setVerticalDef(i, e.target.value)} defaultValue={def[1][i]}></input></div>\n                ))}\n                </div>\n                <div style={{marginTop: '15px'}}>\n                    <button class=\"btn btn-primary save-btn\" onClick={save}>Sauvegarder</button>\n                </div>\n                <div style={{marginTop: '15px'}}>\n                    <button class=\"btn btn-danger\" onClick={deleteG}>Supprimer</button>\n                </div>\n                {isGridFull() && gridId && <div style={{marginTop: '15px'}}>\n                    <button class=\"btn btn-success\" onClick={publish}>Publier</button>\n                </div>}\n                </>)\n            }\n        </div>\n    )\n}\n\nexport default GridEditor","import React, { useEffect, useState } from 'react'\nimport useGlobalState from '../utils/useGlobalState'\nimport { useParams } from \"react-router-dom\";\nimport { useReactToPrint } from 'react-to-print';\nconst pkg = require('../../package.json')\n\n\nfunction GridEditor() {\n    const globalState = useGlobalState()\n    const [solutions, setSolutions] = useState([])\n    const [title, setTitle] = useState('')\n    const [def, setDef] = useState([[], []])\n    const { username, api_token } = globalState.user\n    const {uid: gridId} = useParams();\n    const componentRef = React.useRef();\n    const print = useReactToPrint({\n      content: () => componentRef.current,\n    });\n\n    const loadGrid = async (id) => {\n        try {\n            const r = await fetch(process.env.REACT_APP_API_URL+'/grid/'+id)\n            const d = await r.json()\n            setTitle(d.title)\n            const a = []\n            for (let j=0; j< d.height; j++){\n                a.push([])\n                for (let i=0; i< d.width; i++){\n                    const ch = d.grid[j*d.width+i]\n                    a[j].push(ch === '_' ? '': ch.toUpperCase())\n                }\n            }\n            setSolutions(a)\n            setDef(d.definitions)\n        } catch(e) {\n            window.location = '/'\n        }\n    }\n\n    useEffect(()=>{\n        if (gridId) {\n            (async () => (await loadGrid(gridId)))()\n        }\n            \n    }, [gridId])\n\n\n    const romanize = (num) => {\n        if (isNaN(num))\n            return NaN;\n        var digits = String(+num).split(\"\"),\n            key = [\"\",\"C\",\"CC\",\"CCC\",\"CD\",\"D\",\"DC\",\"DCC\",\"DCCC\",\"CM\",\n                   \"\",\"X\",\"XX\",\"XXX\",\"XL\",\"L\",\"LX\",\"LXX\",\"LXXX\",\"XC\",\n                   \"\",\"I\",\"II\",\"III\",\"IV\",\"V\",\"VI\",\"VII\",\"VIII\",\"IX\"],\n            roman = \"\",\n            i = 3;\n        while (i--)\n            roman = (key[+digits.pop() + (i * 10)] || \"\") + roman;\n        return Array(+digits.join(\"\") + 1).join(\"M\") + roman;\n    }\n\n    return (\n        <div className=\"container main-container\">\n            { !!solutions.length && (<div ref={componentRef} style={{margin:'15px'}}><h1>{title}</h1><table>\n                <tr><td> </td>{solutions[0].map((val, j)=>(<td style={{textAlign: 'center'}}>{romanize(j+1)}.</td>))}</tr>\n                { solutions.map((line, i)=>(\n                    <tr><td>{i+1}.</td>{line.map((val, j)=>(<td style={{width: '2em', height: '2em', border: '1px solid #000', backgroundColor: (val === ' ' ? 'black' : 'white')}}><span style={{textAlign: 'center'}}>{solutions[i][j] ? val : ''}</span></td>))}</tr>\n                ))\n                }\n                </table>\n                <p>Cliquer sur une case et taper la lettre désiré, Retour arrière pour re-initialiser la case.</p>\n                <h3>Définitions</h3>\n                <h4>Horizontalement</h4>\n                <div>\n                {def[0].map((l, i) => (\n                    <div style={{margin: '5px'}}><span style={{width: '3em', display: 'inline-block'}}>{i+1}. </span><span>{l}</span></div>\n                ))}\n                </div>\n                <h4>Verticalement</h4>\n                <div>\n                {def[1].map((l, i) => (\n                    <div style={{margin: '5px'}}><span style={{width: '3em', display: 'inline-block'}}>{romanize(i+1)}. </span><span>{l}</span></div>\n                ))}\n                </div>\n                </div>)\n            }\n            <button class=\"btn btn-primary\" onClick={print}>Imprimer</button>\n        </div>\n    )\n}\n\nexport default GridEditor","import React, { useEffect, useState } from 'react'\nimport useGlobalState from '../utils/useGlobalState'\nimport { Link } from \"react-router-dom\";\nconst pkg = require('../../package.json')\n\n\nfunction OwnGrids() {\n    const globalState = useGlobalState()\n    const [list, setList] = useState('')\n    const { username, api_token } = globalState.user\n\n    const loadGrids = async () => {\n        try {\n            const r = await fetch(process.env.REACT_APP_API_URL+'/user/'+username,{\n                method: 'GET',\n                credentials: 'omit',\n                headers: {\n                    'Authorization': 'Token ' + api_token,\n                    'Content-Type': 'application/json'\n                }\n            })\n            const list = await r.json()\n            setList(list.crosswords_grids)\n        } catch(e) {\n            window.location = '/'\n        }\n    }\n\n    useEffect(()=>{\n        (async () => (await loadGrids()))()     \n    }, [])\n\n    return (\n        <div className=\"container main-container\">\n            { !!list.length ? (list.map((e=>(\n                <><div style={{width: '100%'}}>\n                    <h3 style={{width: '100%'}}>{e.published ? <Link to={\"/grille/\"+e.id}>{e.title}</Link> : e.title} <Link to={\"/grille/\"+e.id+'/modifier'}><button class=\"float-right btn btn-primary\">Modifier</button></Link></h3>\n                    <span>{e.width}x{e.height} {e.published && <span class=\"badge bg-danger\">publié</span>}</span><br/>\n                    <span>Créée {(new Date(e.creation_date)).toLocaleDateString(\"fr-FR\")}</span><br/>\n                    <span>Modifiée {(new Date(e.modification_date)).toLocaleDateString(\"fr-FR\")}</span>\n                </div>\n                <hr/>\n                </>\n            )))): <h2>Pas de grilles</h2>\n            }\n        </div>\n    )\n}\n\nexport default OwnGrids","import './App.css';\nimport { BrowserRouter as Router, Route, Routes } from 'react-router-dom'\nimport { GlobalStateProvider} from './utils/useGlobalState'\nimport Login from './components/login'\nimport Home from './components/home'\nimport GridEditor from './components/gridEditor'\nimport GridViewer from './components/gridViewer'\nimport OwnGrids from './components/ownGrids'\n\n\nfunction App() {\n  return (\n    <GlobalStateProvider>\n      \n      <Router basename='/'>\n        <Login/>\n        <Routes>\n          <Route exact path=\"/\" element={<Home/>} />\n          <Route exact path=\"/nouvelle-grille\" element={<GridEditor/>} />\n          <Route exact path=\"/mes-grilles\" element={<OwnGrids/>} />\n          <Route exact path=\"/grille/:uid\" element={<GridViewer/>} />\n          <Route exact path=\"/grille/:uid/modifier\" element={<GridEditor/>} />\n        </Routes>\n      </Router>\n    </GlobalStateProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"]}}